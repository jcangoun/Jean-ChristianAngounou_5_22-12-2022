<!DOCTYPE html>
<html>
  <head>
    <script>
      function ajouterTableauObjetsAuLocalStorage() {
        // Créer une liste d'objets à ajouter au localStorage

        const listeObjets = [
          { _id: "objet_1", nom: "Objet 1", couleur: "rouge", taille: "petite" },

          { _id: "objet_2", nom: "Objet 2", couleur: "bleu", taille: "moyenne" },

          { _id: "objet_3", nom: "Objet 3", couleur: "vert", taille: "grande" },
        ];

        // Convertir la liste d'objets en chaîne JSON

        const listeObjetsEnJson = JSON.stringify(listeObjets);

        // Ajouter la liste d'objets au localStorage avec une clé unique

        localStorage.setItem("listeObjets", listeObjetsEnJson);

        console.log("Tableau d'objets ajouté au localStorage");
      }

      function modifierCouleurObjetDansLocalStorage(idObjet, nouvelleCouleur) {
        // Récupérer la liste d'objets depuis le localStorage en utilisant la clé "listeObjets"

        const listeObjetsEnJson = localStorage.getItem("listeObjets");

        // Convertir la chaîne JSON en liste d'objets

        const listeObjets = JSON.parse(listeObjetsEnJson);

        // Trouver l'objet à modifier en utilisant son _id

        const objetAModifier = listeObjets.find((objet) => objet._id === idObjet);

        if (objetAModifier) {
          // Modifier la couleur de l'objet trouvé

          objetAModifier.couleur = nouvelleCouleur;

          // Convertir la liste d'objets modifiée en chaîne JSON

          const listeObjetsModifieeEnJson = JSON.stringify(listeObjets);

          // Mettre à jour la liste d'objets dans le localStorage

          localStorage.setItem("listeObjets", listeObjetsModifieeEnJson);

          console.log(`Couleur de l'objet ${idObjet} modifiée`);
        } else {
          console.error(`Objet avec _id ${idObjet} non trouvé`);
        }
      }

      // Appeler la fonction ajouterTableauObjetsAuLocalStorage pour ajouter le tableau d'objets au localStorage

      ajouterTableauObjetsAuLocalStorage();

      // Appeler la fonction modifierCouleurObjetDansLocalStorage pour modifier la couleur de l'objet "objet_2" dans le localStorage

      modifierCouleurObjetDansLocalStorage("objet_2", "jaune");

      // Appeler à nouveau la fonction modifierCouleurObjetDansLocalStorage pour modifier la couleur de l'objet "objet_1" dans le localStorage

      modifierCouleurObjetDansLocalStorage("objet_1", "vert");
    </script>
  </head>
  <body></body>
</html>
